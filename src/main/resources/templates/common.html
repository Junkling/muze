
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">


<head>
<body>
<header th:fragment="headerFragment">
  <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top" th:fragment="menu(menu)">
    <a class="navbar-brand" href="/">Muze</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault"
            aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarsExampleDefault">
      <div class="collapse navbar-collapse" id="collapsibleNavbar">
      <button class="btn btn-secondary mr-2 my-2 my-sm-0" type="button" th:onclick="|location.href='@{/users}'|" sec:authorize="!isAuthenticated()">회원가입</button>
      <button class="btn btn-dark my-2 my-sm-0" type="button" th:onclick="|location.href='@{/login}'|"  sec:authorize="!isAuthenticated()">로그인</button>
      <!-- 로그인이 안된 경우  -->

      <form class="form-inline my-2 my-lg-0" th:action="@{/logout}" method="post" sec:authorize="isAuthenticated()">
        <span class="text-white mr-2 mx-2" sec:authentication="name">사용자</span>
<!--        <span class="text-white mr-2 mx-2" sec:authentication="principal.getNickName()">권한</span>-->
        <button class="btn btn-secondary my-2 my-sm-0" type="submit">로그아웃</button>
      </form>
      </div>
    </div>
  </nav>
</header>
</body>

</head>
</html>